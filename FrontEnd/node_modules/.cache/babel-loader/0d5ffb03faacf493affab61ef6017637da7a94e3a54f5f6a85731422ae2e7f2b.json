{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Chiavetta\\\\Desktop\\\\programacion-3-2025-chiavetta-Ramires102\\\\FrontEnd\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './components/Login.tsx';\nimport Register from './components/Register.tsx';\nimport Dashboard from './components/Dashboard.tsx';\nimport EjerciciosYClases from './components/EjerciciosYClases.tsx';\nimport ClasesProgramadas from './components/ClasesProgramadas.tsx';\nimport { authUtils } from './utils/auth.ts';\nimport './App.css';\n\n// Componente separado para las rutas públicas\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PublicRoutes = ({\n  currentView,\n  onLoginSuccess,\n  onSwitchToRegister,\n  onSwitchToLogin\n}) => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(Route, {\n    path: \"/\",\n    element: currentView === 'login' ? /*#__PURE__*/_jsxDEV(Login, {\n      onLoginSuccess: onLoginSuccess,\n      onSwitchToRegister: onSwitchToRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Register, {\n      onRegisterSuccess: () => onSwitchToLogin(),\n      onSwitchToLogin: onSwitchToLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n\n// Componente separado para las rutas privadas\n_c = PublicRoutes;\nconst PrivateRoutes = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"/dashboard\",\n    element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 39\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"/ejercicios-y-clases\",\n    element: /*#__PURE__*/_jsxDEV(EjerciciosYClases, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 49\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"/clases-programadas\",\n    element: /*#__PURE__*/_jsxDEV(ClasesProgramadas, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 48\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/dashboard\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c2 = PrivateRoutes;\nconst App = () => {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\n  const [currentView, setCurrentView] = useState('login');\n  useEffect(() => {\n    // Verificar si hay token al cargar la app\n    const token = authUtils.getToken();\n    if (token) {\n      setIsAuthenticated(true);\n    } else {\n      setIsAuthenticated(false);\n    }\n\n    // Escuchar cambios en localStorage\n    const handleStorageChange = () => {\n      const newToken = authUtils.getToken();\n      setIsAuthenticated(!!newToken);\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  // Si aún está cargando, mostrar un loader o nada\n  if (isAuthenticated === null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '20px',\n        color: '#667eea'\n      },\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  const handleLoginSuccess = () => {\n    // Verificar que el token se guardó correctamente\n    const token = authUtils.getToken();\n    if (token) {\n      setIsAuthenticated(true);\n    }\n  };\n  const handleSwitchToRegister = () => {\n    setCurrentView('register');\n  };\n  const handleSwitchToLogin = () => {\n    setCurrentView('login');\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(PrivateRoutes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(PublicRoutes, {\n        currentView: currentView,\n        onLoginSuccess: handleLoginSuccess,\n        onSwitchToRegister: handleSwitchToRegister,\n        onSwitchToLogin: handleSwitchToLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"yH7Gik4KTrKZUmd2jTHaEvgq7Hw=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PublicRoutes\");\n$RefreshReg$(_c2, \"PrivateRoutes\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","Dashboard","EjerciciosYClases","ClasesProgramadas","authUtils","jsxDEV","_jsxDEV","Fragment","_Fragment","PublicRoutes","currentView","onLoginSuccess","onSwitchToRegister","onSwitchToLogin","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","onRegisterSuccess","to","replace","_c","PrivateRoutes","_c2","App","_s","isAuthenticated","setIsAuthenticated","setCurrentView","token","getToken","handleStorageChange","newToken","window","addEventListener","removeEventListener","style","display","justifyContent","alignItems","height","fontSize","color","handleLoginSuccess","handleSwitchToRegister","handleSwitchToLogin","_c3","$RefreshReg$"],"sources":["C:/Users/Chiavetta/Desktop/programacion-3-2025-chiavetta-Ramires102/FrontEnd/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Login from './components/Login.tsx';\r\nimport Register from './components/Register.tsx';\r\nimport Dashboard from './components/Dashboard.tsx';\r\nimport EjerciciosYClases from './components/EjerciciosYClases.tsx';\r\nimport ClasesProgramadas from './components/ClasesProgramadas.tsx';\r\nimport { authUtils } from './utils/auth.ts';\r\nimport './App.css';\r\n\r\n// Componente separado para las rutas públicas\r\nconst PublicRoutes: React.FC<{\r\n  currentView: 'login' | 'register';\r\n  onLoginSuccess: () => void;\r\n  onSwitchToRegister: () => void;\r\n  onSwitchToLogin: () => void;\r\n}> = ({ currentView, onLoginSuccess, onSwitchToRegister, onSwitchToLogin }) => (\r\n  <>\r\n    <Route \r\n      path=\"/\" \r\n      element={\r\n        currentView === 'login' ? (\r\n          <Login \r\n            onLoginSuccess={onLoginSuccess}\r\n            onSwitchToRegister={onSwitchToRegister}\r\n          />\r\n        ) : (\r\n          <Register \r\n            onRegisterSuccess={() => onSwitchToLogin()}\r\n            onSwitchToLogin={onSwitchToLogin}\r\n          />\r\n        )\r\n      } \r\n    />\r\n    <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n  </>\r\n);\r\n\r\n// Componente separado para las rutas privadas\r\nconst PrivateRoutes: React.FC = () => (\r\n  <>\r\n    <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\r\n    <Route path=\"/dashboard\" element={<Dashboard />} />\r\n    <Route path=\"/ejercicios-y-clases\" element={<EjerciciosYClases />} />\r\n    <Route path=\"/clases-programadas\" element={<ClasesProgramadas />} />\r\n    <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\r\n  </>\r\n);\r\n\r\nconst App: React.FC = () => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\r\n  const [currentView, setCurrentView] = useState<'login' | 'register'>('login');\r\n\r\n  useEffect(() => {\r\n    // Verificar si hay token al cargar la app\r\n    const token = authUtils.getToken();\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n    } else {\r\n      setIsAuthenticated(false);\r\n    }\r\n\r\n    // Escuchar cambios en localStorage\r\n    const handleStorageChange = () => {\r\n      const newToken = authUtils.getToken();\r\n      setIsAuthenticated(!!newToken);\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => window.removeEventListener('storage', handleStorageChange);\r\n  }, []);\r\n\r\n  // Si aún está cargando, mostrar un loader o nada\r\n  if (isAuthenticated === null) {\r\n    return <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', fontSize: '20px', color: '#667eea' }}>Cargando...</div>;\r\n  }\r\n\r\n  const handleLoginSuccess = () => {\r\n    // Verificar que el token se guardó correctamente\r\n    const token = authUtils.getToken();\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n    }\r\n  };\r\n\r\n  const handleSwitchToRegister = () => {\r\n    setCurrentView('register');\r\n  };\r\n\r\n  const handleSwitchToLogin = () => {\r\n    setCurrentView('login');\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        {isAuthenticated ? (\r\n          <PrivateRoutes />\r\n        ) : (\r\n          <PublicRoutes \r\n            currentView={currentView}\r\n            onLoginSuccess={handleLoginSuccess}\r\n            onSwitchToRegister={handleSwitchToRegister}\r\n            onSwitchToLogin={handleSwitchToLogin}\r\n          />\r\n        )}\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}